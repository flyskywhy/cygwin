<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="STYLESHEET" href="ref.css" type='text/css' />
<link rel="SHORTCUT ICON" href="../icons/pyfav.png" type="image/png" />
<link rel='start' href='../index.html' title='Python documentation Index' />
<link rel="first" href="ref.html" title='Python reference Manual' />
<link rel='contents' href='contents.html' title="Contents" />
<link rel='index' href='genindex.html' title='Index' />
<link rel='last' href='about.html' title='About this document...' />
<link rel='help' href='about.html' title='About this document...' />
<link rel="next" href="class.html" />
<link rel="prev" href="with.html" />
<link rel="parent" href="compound.html" />
<link rel="next" href="class.html" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name='aesop' content='information' />
<title>7.6 Function definitions</title>
</head>
<body>
<div class="navigation">
<div id='top-navigation-panel' xml:id='top-navigation-panel'>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="7.5 the with statement"
  href="with.html"><img src='../icons/previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="7. compound statements"
  href="compound.html"><img src='../icons/up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="7.7 class definitions"
  href="class.html"><img src='../icons/next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%">Python Reference Manual</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="contents.html"><img src='../icons/contents.png'
  border='0' height='32'  alt='Contents' width='32' /></a></td>
<td class='online-navigation'><img src='../icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='../icons/index.png'
  border='0' height='32'  alt='Index' width='32' /></a></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="with.html">7.5 The with statement</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="compound.html">7. Compound statements</a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="class.html">7.7 Class definitions</a>
</div>
<hr /></div>
</div>
<!--End of Navigation Panel-->

<h1><a name="SECTION009600000000000000000"></a><a name="function"></a>
<br>
7.6 Function definitions
</h1>
<a id='l2h-628' xml:id='l2h-628'></a><a id='l2h-629' xml:id='l2h-629'></a>
<p>
A function definition defines a user-defined function object (see
section&nbsp;<a href="types.html#types">3.2</a>):
<a id='l2h-630' xml:id='l2h-630'></a><a id='l2h-631' xml:id='l2h-631'></a>
<p>
<dl><dd class="grammar">
<div class="productions">
<table>
<tr>
    <td><a id='tok-funcdef' xml:id='tok-funcdef'>funcdef</a></td>
    <td>::=</td>
    <td>[<a class='grammartoken' href="function.html#tok-decorators">decorators</a>] "def" <a class='grammartoken' href="function.html#tok-funcname">funcname</a> "(" [<a class='grammartoken' href="function.html#tok-parameter_list">parameter_list</a>] ")"
              ":" <a class='grammartoken' href="compound.html#tok-suite">suite</a></td></tr>
  <tr>
    <td><a id='tok-decorators' xml:id='tok-decorators'>decorators</a></td>
    <td>::=</td>
    <td><a class='grammartoken' href="function.html#tok-decorator">decorator</a>+</td></tr>
  <tr>
    <td><a id='tok-decorator' xml:id='tok-decorator'>decorator</a></td>
    <td>::=</td>
    <td>"@" <a class='grammartoken' href="function.html#tok-dotted_name">dotted_name</a> ["(" [<a class='grammartoken' href="calls.html#tok-argument_list">argument_list</a> [","]] ")"] NEWLINE</td></tr>
  <tr>
    <td><a id='tok-dotted_name' xml:id='tok-dotted_name'>dotted_name</a></td>
    <td>::=</td>
    <td><a class='grammartoken' href="identifiers.html#tok-identifier">identifier</a> ("." <a class='grammartoken' href="identifiers.html#tok-identifier">identifier</a>)*</td></tr>
  <tr>
    <td><a id='tok-parameter_list' xml:id='tok-parameter_list'>parameter_list</a></td>
    <td>::=</td>
    <td>(<a class='grammartoken' href="function.html#tok-defparameter">defparameter</a> ",")*</td></tr>
  <tr>
    <td></td>
    <td></td>
    <td><code>(&nbsp;&nbsp;"*" <a class='grammartoken' href="identifiers.html#tok-identifier">identifier</a> [, "**" <a class='grammartoken' href="identifiers.html#tok-identifier">identifier</a>]</code></td></tr>
  <tr>
    <td></td>
    <td></td>
    <td><code>&nbsp;| "**" <a class='grammartoken' href="identifiers.html#tok-identifier">identifier</a></code></td></tr>
  <tr>
    <td></td>
    <td></td>
    <td><code>&nbsp;| <a class='grammartoken' href="function.html#tok-defparameter">defparameter</a> [","] )</code></td></tr>
  <tr>
    <td><a id='tok-defparameter' xml:id='tok-defparameter'>defparameter</a></td>
    <td>::=</td>
    <td><a class='grammartoken' href="function.html#tok-parameter">parameter</a> ["=" <a class='grammartoken' href="Booleans.html#tok-expression">expression</a>]</td></tr>
  <tr>
    <td><a id='tok-sublist' xml:id='tok-sublist'>sublist</a></td>
    <td>::=</td>
    <td><a class='grammartoken' href="function.html#tok-parameter">parameter</a> ("," <a class='grammartoken' href="function.html#tok-parameter">parameter</a>)* [","]</td></tr>
  <tr>
    <td><a id='tok-parameter' xml:id='tok-parameter'>parameter</a></td>
    <td>::=</td>
    <td><a class='grammartoken' href="identifiers.html#tok-identifier">identifier</a> | "(" <a class='grammartoken' href="function.html#tok-sublist">sublist</a> ")"</td></tr>
  <tr>
    <td><a id='tok-funcname' xml:id='tok-funcname'>funcname</a></td>
    <td>::=</td>
    <td><a class='grammartoken' href="identifiers.html#tok-identifier">identifier</a></td></tr>
</table>
</div>
<a class="grammar-footer"
  href="grammar.txt" type="text/plain"
  >Download entire grammar as text.</a>
</dd></dl>

<p>
A function definition is an executable statement.  Its execution binds
the function name in the current local namespace to a function object
(a wrapper around the executable code for the function).  This
function object contains a reference to the current global namespace
as the global namespace to be used when the function is called.
<a id='l2h-632' xml:id='l2h-632'></a><a id='l2h-633' xml:id='l2h-633'></a>
<p>
The function definition does not execute the function body; this gets
executed only when the function is called.

<p>
A function definition may be wrapped by one or more decorator expressions.
Decorator expressions are evaluated when the function is defined, in the scope
that contains the function definition.  The result must be a callable,
which is invoked with the function object as the only argument.
The returned value is bound to the function name instead of the function
object.  Multiple decorators are applied in nested fashion.
For example, the following code:

<p>
<div class="verbatim"><pre>
@f1(arg)
@f2
def func(): pass
</pre></div>

<p>
is equivalent to:

<p>
<div class="verbatim"><pre>
def func(): pass
func = f1(arg)(f2(func))
</pre></div>

<p>
When one or more top-level parameters have the form <var>parameter</var>
<code>=</code> <var>expression</var>, the function is said to have ``default
parameter values.''  For a parameter with a
default value, the corresponding argument may be omitted from a call,
in which case the parameter's default value is substituted.  If a
parameter has a default value, all following parameters must also have
a default value -- this is a syntactic restriction that is not
expressed by the grammar.
<a id='l2h-634' xml:id='l2h-634'></a>
<p>
<strong>Default parameter values are evaluated when the function
definition is executed.</strong>  This means that the expression is evaluated
once, when the function is defined, and that that same
``pre-computed'' value is used for each call.  This is especially
important to understand when a default parameter is a mutable object,
such as a list or a dictionary: if the function modifies the object
(e.g. by appending an item to a list), the default value is in effect
modified.  This is generally not what was intended.  A way around this 
is to use <code>None</code> as the default, and explicitly test for it in
the body of the function, e.g.:

<p>
<div class="verbatim"><pre>
def whats_on_the_telly(penguin=None):
    if penguin is None:
        penguin = []
    penguin.append("property of the zoo")
    return penguin
</pre></div>

<p>
Function call semantics are described in more detail in
section&nbsp;<a href="calls.html#calls">5.3.4</a>.
A function call always assigns values to all parameters mentioned in
the parameter list, either from position arguments, from keyword
arguments, or from default values.  If the form ``<code>*identifier</code>''
is present, it is initialized to a tuple receiving any excess
positional parameters, defaulting to the empty tuple.  If the form
``<code>**identifier</code>'' is present, it is initialized to a new
dictionary receiving any excess keyword arguments, defaulting to a
new empty dictionary.

<p>
It is also possible to create anonymous functions (functions not bound
to a name), for immediate use in expressions.  This uses lambda forms,
described in section&nbsp;<a href="lambdas.html#lambda">5.11</a>.  Note that the lambda form is
merely a shorthand for a simplified function definition; a function
defined in a ``<tt class="keyword">def</tt>'' statement can be passed around or
assigned to another name just like a function defined by a lambda
form.  The ``<tt class="keyword">def</tt>'' form is actually more powerful since it
allows the execution of multiple statements.
<a id='l2h-635' xml:id='l2h-635'></a>
<p>
<strong>Programmer's note:</strong> Functions are first-class objects.  A
``<code>def</code>'' form executed inside a function definition defines a
local function that can be returned or passed around.  Free variables
used in the nested function can access the local variables of the
function containing the def.  See section&nbsp;<a href="naming.html#naming">4.1</a> for details.

<p>

<div class="navigation">
<div class='online-navigation'>
<p></p><hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="7.5 the with statement"
  href="with.html"><img src='../icons/previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="7. compound statements"
  href="compound.html"><img src='../icons/up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="7.7 class definitions"
  href="class.html"><img src='../icons/next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%">Python Reference Manual</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="contents.html"><img src='../icons/contents.png'
  border='0' height='32'  alt='Contents' width='32' /></a></td>
<td class='online-navigation'><img src='../icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='../icons/index.png'
  border='0' height='32'  alt='Index' width='32' /></a></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="with.html">7.5 The with statement</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="compound.html">7. Compound statements</a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="class.html">7.7 Class definitions</a>
</div>
</div>
<hr />
<span class="release-info">Release 2.5.1, documentation updated on 18th April, 2007.</span>
</div>
<!--End of Navigation Panel-->
<address>
See <i><a href="about.html">About this document...</a></i> for information on suggesting changes.
</address>
</body>
</html>
